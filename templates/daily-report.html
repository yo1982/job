<!DOCTYPE html>
<html>
  <head>
    <title>Daily Report</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  </head>
  <body>
    <div class="container">
      <h1>Daily Report</h1>
      <form method="POST">
        <div class="form-group">
          <label for="date">Select Date:</label>
          <input type="text" id="date" name="date" placeholder="Select Date" class="form-control">
        </div>
        <button type="submit" name="action" value="Generate Report" class="btn btn-primary">Generate Report</button>
        </form>
      {% if report_data %}
        <h2>Report for {{ formatted_date }}</h2>
        <p>Total Bookings: {{ total_bookings }}</p>
        <table>
          <thead>
            <tr>
              <th>Booking ID</th>
              <th>Customer Name</th>
              <th>Car Type</th>
              <th>Pickup Date</th>
              <th>Return Date</th>
              <th>Pickup Location</th>
              <th>Return Location</th>
              <th>Price</th>
              <th>Payment Method</th>
              <th>Booking Date</th>
            </tr>
          </thead>
          <tbody>
            {% for booking in bookings %}
              <tr>
                <td>{{ booking[0] }}</td>
                <td>{{ booking[1] }}</td>
                <td>{{ booking[2] }}</td>
                <td>{{ booking[3] }}</td>
                <td>{{ booking[4] }}</td>
                <td>{{ booking[5] }}</td>
                <td>{{ booking[6] }}</td>
                <td>{{ booking[7] }}</td>
                <td>{{ booking[8] }}</td>
                <td>{{ booking[9] }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
        <div>
      {% else %}
        <p>No bookings found.</p>
      {% endif %}
      <p><a href="{{ url_for('index') }}">Back to Home</a></p>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
      flatpickr('#date', {
        enableTime: false,
        dateFormat: "Y-m-d",
      });
    </script>
  </body>
</html>